"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[485],{3905:function(e,a,t){t.d(a,{Zo:function(){return u},kt:function(){return m}});var r=t(7294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var i=r.createContext({}),c=function(e){var a=r.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},u=function(e){var a=c(e.components);return r.createElement(i.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},p=r.forwardRef((function(e,a){var t=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(t),m=n,h=p["".concat(i,".").concat(m)]||p[m]||d[m]||o;return t?r.createElement(h,l(l({ref:a},u),{},{components:t})):r.createElement(h,l({ref:a},u))}));function m(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var o=t.length,l=new Array(o);l[0]=p;var s={};for(var i in a)hasOwnProperty.call(a,i)&&(s[i]=a[i]);s.originalType=e,s.mdxType="string"==typeof e?e:n,l[1]=s;for(var c=2;c<o;c++)l[c]=t[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},8387:function(e,a,t){t.r(a),t.d(a,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return c},toc:function(){return u},default:function(){return p}});var r=t(7462),n=t(3366),o=(t(7294),t(3905)),l=["components"],s={sidebar_position:1},i="Instala\xe7\xe3o",c={unversionedId:"old/Geral/Instalacao",id:"old/Geral/Instalacao",isDocsHomePage:!1,title:"Instala\xe7\xe3o",description:"1. Objetivo",source:"@site/../docs/old/Geral/Instalacao.md",sourceDirName:"old/Geral",slug:"/old/Geral/Instalacao",permalink:"/knowledge_base/docs/old/Geral/Instalacao",editUrl:"https://github.com/SkyRats/knowledge_base/tree/main/docs/../docs/old/Geral/Instalacao.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docssidebar",previous:{title:"Introdu\xe7\xe3o",permalink:"/knowledge_base/docs/old/intro"},next:{title:"F\xf3rmul\xe1rio",permalink:"/knowledge_base/docs/old/Geral/formulario"}},u=[{value:"1. Objetivo",id:"1-objetivo",children:[],level:2},{value:"2. Requisitos",id:"2-requisitos",children:[],level:2},{value:"3. Passo a passo",id:"3-passo-a-passo",children:[{value:"3.1. ROS e Gazebo",id:"31-ros-e-gazebo",children:[],level:3},{value:"3.2. MAVROS",id:"32-mavros",children:[],level:3},{value:"3.3. Firmware PX4",id:"33-firmware-px4",children:[],level:3},{value:"3.3. Firmware ARDUPILOT",id:"33-firmware-ardupilot",children:[],level:3},{value:"3.4. QGroundControl",id:"34-qgroundcontrol",children:[],level:3}],level:2},{value:"4. Verificando a instala\xe7\xe3o",id:"4-verificando-a-instala\xe7\xe3o",children:[{value:"4.1. ROS",id:"41-ros",children:[],level:3},{value:"4.2. MAVROS",id:"42-mavros",children:[],level:3},{value:"4.3. Gazebo",id:"43-gazebo",children:[],level:3},{value:"4.4. Firmware PX4",id:"44-firmware-px4",children:[],level:3},{value:"4.5. QGroundControl",id:"45-qgroundcontrol",children:[],level:3}],level:2},{value:"5. Refer\xeancias",id:"5-refer\xeancias",children:[],level:2}],d={toc:u};function p(e){var a=e.components,t=(0,n.Z)(e,l);return(0,o.kt)("wrapper",(0,r.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"instala\xe7\xe3o"},"Instala\xe7\xe3o"),(0,o.kt)("h2",{id:"1-objetivo"},"1. Objetivo"),(0,o.kt)("p",null,"Instala\xe7\xe3o dos seguintes programas:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"ROS Melodic"),(0,o.kt)("li",{parentName:"ul"},"Gazebo 9"),(0,o.kt)("li",{parentName:"ul"},"MAVROS"),(0,o.kt)("li",{parentName:"ul"},"Firmware PX4"),(0,o.kt)("li",{parentName:"ul"},"QGroundControl")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"2-requisitos"},"2. Requisitos"),(0,o.kt)("p",null,"Computador com Ubuntu 18.04"),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"3-passo-a-passo"},"3. Passo a passo"),(0,o.kt)("p",null,"Execute os seguintes comandos em sequ\xeancia em um terminal."),(0,o.kt)("h3",{id:"31-ros-e-gazebo"},"3.1. ROS e Gazebo"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Configura sources.list\nsudo sh -c 'echo \"deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main\" > /etc/apt/sources.list.d/ros-latest.list'\n\n# Configura keys\nsudo apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654\n\nsudo apt update\n\n# Instala o ROS e o Gazebo\nsudo apt install ros-melodic-desktop-full -y\n\n# Vari\xe1veis de ambiente\nsource /opt/ros/melodic/setup.bash\necho \"source /opt/ros/melodic/setup.bash\" >> ~/.bashrc\n\n# Instala outras dependencias\nsudo apt install python-rosinstall python-rosinstall-generator python-wstool build-essential\n")),(0,o.kt)("p",null,"Para criar um workspace na pasta ",(0,o.kt)("inlineCode",{parentName:"p"},"~/catkin_ws"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'# Cria a pasta\ncd\nmkdir -p ~/catkin_ws/src\n\n# Inicializa o workspace\ncd ~/catkin_ws/src\ncatkin_init_workspace\n\n# Compila o workspace\nsudo apt install python-catkin-tools\ncd ..\ncatkin build\n\n# Adiciona ao .bashrc\necho "source ~/catkin_ws/devel/setup.bash" >> ~/.bashrc\n')),(0,o.kt)("h3",{id:"32-mavros"},"3.2. MAVROS"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Instala MAVROS\nsudo apt-get install ros-melodic-mavros ros-melodic-mavros-extras\n\n# Instala geographiclib\nwget https://raw.githubusercontent.com/mavlink/mavros/master/mavros/scripts/install_geographiclib_datasets.sh\nsudo bash ./install_geographiclib_datasets.sh\nrm ./install_geographiclib_datasets.sh\n")),(0,o.kt)("h3",{id:"33-firmware-px4"},"3.3. Firmware PX4"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd\nmkdir ~/src\ncd ~/src\n\n# Clona o firmware\ngit clone https://github.com/Skyrats/Firmware.git --recursive\n# SE DER O ERRO (*****S\xd3 SE DER O ERRO*****):\n          server certificate failed\n # Dar o comando p consert\xe1-lo:\n          git config --global http.sslverify false\n\n\n\n# Executa o ubuntu.sh (demora pra caramba)\ncd ~/src/Firmware/Tools/setup\n./ubuntu.sh\n")),(0,o.kt)("p",null,"Isso apenas baixa o Firmware e instala suas depend\xeancias. Se voc\xea quiser us\xe1-lo em um drone ou em uma simula\xe7\xe3o, voc\xea vai precisar compilar. Isso demora bastante, ent\xe3o eu recomendo fazer logo o que voc\xea for usar. "),(0,o.kt)("a",{id:"compilar"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Todos os comandos devem ser executados nessa p\xe1gina\ncd ~/src/Firmware\n\n# Compilar para simula\xe7\xe3o (vai abrir o gazebo no final)\nmake px4_sitl gazebo\n\n# Pixhawk 4\nmake px4_fmu-v5_default\n")),(0,o.kt)("h3",{id:"33-firmware-ardupilot"},"3.3. Firmware ARDUPILOT"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/src\n\n# Clona o firmware\ngit clone https://github.com/SkyRats/ardupilot.git --recursive\n\n")),(0,o.kt)("h3",{id:"34-qgroundcontrol"},"3.4. QGroundControl"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo usermod -a -G dialout $USER\nsudo apt-get remove modemmanager -y\nsudo apt install gstreamer1.0-plugins-bad gstreamer1.0-libav gstreamer1.0-gl -y\n\n# Precisa dar logout e login para prosseguir\n\n# Baixa o QGC (um execut\xe1vel) para a home\ncd\nwget https://s3-us-west-2.amazonaws.com/qgroundcontrol/latest/QGroundControl.AppImage\n\n# D\xe1 permiss\xe3o de execu\xe7\xe3o\nchmod +x QGroundControl.AppImage\n")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"4-verificando-a-instala\xe7\xe3o"},"4. Verificando a instala\xe7\xe3o"),(0,o.kt)("p",null,"Pra testar se as coisas foram instaladas corretamente, voc\xea pode seguir os passos a seguir. S\xe3o testes simples s\xf3 pra ver se o b\xe1sico funciona."),(0,o.kt)("h3",{id:"41-ros"},"4.1. ROS"),(0,o.kt)("p",null,"Abra um terminal e digite o comando seguinte"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"roscore\n")),(0,o.kt)("p",null,"Se aparecer uma parede de texto t\xe1 tudo certo, se der algum erro de comando n\xe3o encontrado alguma coisa deu ruim. Pra interrompe, aperte Ctrl+C."),(0,o.kt)("h3",{id:"42-mavros"},"4.2. MAVROS"),(0,o.kt)("p",null,"Se estiver instalado, o ROS deve conseguir achar a MAVROS com"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"roscd mavros\n")),(0,o.kt)("p",null,"Comando b\xe1sico pra ir at\xe9 o diret\xf3rio em que t\xe1 instalado. Se n\xe3o apareceu nada t\xe1 tudo certo, o problema \xe9 se reclamar que n\xe3o encontrou."),(0,o.kt)("h3",{id:"43-gazebo"},"4.3. Gazebo"),(0,o.kt)("p",null,"O Gazebo \xe9 um aplicativo, voc\u1ebd deve encontrar ele dentre os outros aplicativos ou colocando ",(0,o.kt)("inlineCode",{parentName:"p"},"gazebo")," em qualquer terminal. Basta checar que ele existe e abre."),(0,o.kt)("h3",{id:"44-firmware-px4"},"4.4. Firmware PX4"),(0,o.kt)("p",null,"Uma forma simples de ver se est\xe1 funcionando \xe9 tentar abrir a simula\xe7\xe3o com o gazebo, como explicado no final de ",(0,o.kt)("a",{parentName:"p",href:"#compilar"},"3.3.")),(0,o.kt)("h3",{id:"45-qgroundcontrol"},"4.5. QGroundControl"),(0,o.kt)("p",null,"Esse tbm \xe9 um aplicativo, mas n\xe3o aparece na lista de aplicativos instalados. A gente baixou ele direto na home, s\xf3 precisa clicar duas vezes no \xedcone e ele abre."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"5-refer\xeancias"},"5. Refer\xeancias"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"http://wiki.ros.org/melodic/Installation/Ubuntu"},"http://wiki.ros.org/melodic/Installation/Ubuntu")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/SkyRats/workshops/tree/ros_basics"},"https://github.com/SkyRats/workshops/tree/ros_basics")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://dev.px4.io/master/en/ros/mavros_installation.html"},"https://dev.px4.io/master/en/ros/mavros_installation.html")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://dev.px4.io/master/en/setup/dev_env_linux_ubuntu.html"},"https://dev.px4.io/master/en/setup/dev_env_linux_ubuntu.html")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://docs.qgroundcontrol.com/master/en/getting_started/download_and_install.html"},"https://docs.qgroundcontrol.com/master/en/getting_started/download_and_install.html"))))}p.isMDXComponent=!0}}]);